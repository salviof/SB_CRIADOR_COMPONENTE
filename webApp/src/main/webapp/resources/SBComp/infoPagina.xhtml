<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:SBComp="http://java.sun.com/jsf/composite/SBComp"
      xmlns:p="http://primefaces.org/ui"

      xmlns:h="http://xmlns.jcp.org/jsf/html"
      >

    <!-- INTERFACE -->
    <cc:interface>


    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <h:panelGroup rendered="#{infoWebApp.emModoDesenvolvimentoHomologacao}" >
            <h:form>
                <p:commandButton  icon="fa fa-bug"  actionListener="#{pgUtil.exibirModalInfopagina()}"/>
                <p:commandButton  icon="fa fa-gamepad"  actionListener="#{pgUtil.exibirModalInfopagina()}" />
            </h:form>



            <!-- CODIGO PARA TRATAMENTO DE ERROS DE BEANS -->
            <p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException"
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:ajaxExceptionHandler type="java.lang.NullPointerException"
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:ajaxExceptionHandler type="java.lang.IllegalStateException"
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:ajaxExceptionHandler type="java.lang.IllegalArgumentException "
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:ajaxExceptionHandler type="org.jboss.weld.context.NonexistentConversationException"
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:ajaxExceptionHandler type=" org.jboss.weld.context.NonexistentConversationException"
                                    update="exceptionDialog"
                                    onexception="PF('exceptionDialog').show();" />

            <p:dialog id="exceptionDialog" header="Ouve lançamento de exceção não tratada: '#{pfExceptionHandler.type}' !" widgetVar="exceptionDialog"

                      height="500px">
                <h:outputText value="Mensagem: #{pfExceptionHandler.message}" /> <br/>
                <h:outputText value="StackTrace: " /> <h:outputText value="#{pfExceptionHandler.formattedStackTrace}" escape="false" /> <br />
                <h:form>
                    <p:button onclick="document.location.href = document.location.href;"
                              value="Tentar novamente"
                              rendered="#{pfExceptionHandler.type == 'javax.faces.application.ViewExpiredException'}" />
                </h:form>
            </p:dialog>
        </h:panelGroup>
    </cc:implementation>
</html>










